{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function getImages(keyWord) {\n    const params = {\n        key: '43249690-fb8fa8f624055727458ab84aa',\n        q: keyWord,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    }\n    const url = 'https://pixabay.com/api/';\n    const res = await axios.get(url, { params })\n    return res.data\n}\n\n","export function imageTemplate({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) {\n    return `<li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\"> <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"152\"/> </a>\n          <div class=\"gallery-item-description\">\n            <p class=\"description\"><b>Likes</b> ${likes}</p>\n            <p class=\"description\"><b>Views</b> ${views}</p>\n            <p class=\"description\"><b>Comments</b> ${comments}</p>\n            <p class=\"description\"><b>Downloads</b> ${downloads}</p>\n            </div>\n          </li>`;\n}\n\nexport function renderImages(imagesArr) {\n     return imagesArr.map(imageTemplate).join('')\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// import axios from \"axios\";\nimport { getImages } from '../src/js/pixabay-api';\nimport { imageTemplate } from './js/render-function'\nimport { renderImages } from './js/render-function'\n\nconst form = document.querySelector(\".search-form\")\nconst gallery = document.querySelector('.gallery')\nconst loader = document.querySelector('.loader')\n\nform.addEventListener('submit', crateGallery)\n\nasync function crateGallery(event) {\n    event.preventDefault()\n    loader.classList.remove('visually-hidden');\n    const searchValue = form.elements.searchInput.value;\n    const images = await getImages(searchValue)\n    try {\n        if (images.hits.length < 1) {\n        iziToast.show({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n        }\n        )\n        loader.classList.add('visually-hidden'); \n    }\n    const markup = renderImages(images.hits);\n        gallery.innerHTML = markup\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: `alt`,\n        captionDelay: 250,\n        });\n        form.reset() \n        loader.classList.add('visually-hidden');\n        lightbox.refresh(); \n    } catch (error) {\n        console.log(error)\n    }\n    \n}\n\n\n\n\n"],"names":["getImages","keyWord","params","url","axios","imageTemplate","largeImageURL","webformatURL","tags","likes","views","comments","downloads","renderImages","imagesArr","form","gallery","loader","crateGallery","event","searchValue","images","iziToast","markup","lightbox","SimpleLightbox","error"],"mappings":"owBAEO,eAAeA,EAAUC,EAAS,CACrC,MAAMC,EAAS,CACX,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,EACKE,EAAM,2BAEZ,OADY,MAAMC,EAAM,IAAID,EAAK,CAAE,OAAAD,EAAQ,GAChC,IACf,CCbO,SAASG,EAAc,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACpG,MAAO;AAAA,qBACUN,CAAa,gBAAgBC,CAAY,UAAUC,CAAI;AAAA;AAAA,kDAE1BC,CAAK;AAAA,kDACLC,CAAK;AAAA,qDACFC,CAAQ;AAAA,sDACPC,CAAS;AAAA;AAAA,gBAG/D,CAEO,SAASC,EAAaC,EAAW,CACnC,OAAOA,EAAU,IAAIT,CAAa,EAAE,KAAK,EAAE,CAChD,CCLA,MAAMU,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,eAAeA,EAAaC,EAAO,CAC/BA,EAAM,eAAgB,EACtBF,EAAO,UAAU,OAAO,iBAAiB,EACzC,MAAMG,EAAcL,EAAK,SAAS,YAAY,MACxCM,EAAS,MAAMrB,EAAUoB,CAAW,EAC1C,GAAI,CACIC,EAAO,KAAK,OAAS,IACzBC,EAAS,KAAK,CACd,MAAO,QACP,QAAS,2EACT,gBAAiB,UACjB,SAAU,UACT,CACA,EACDL,EAAO,UAAU,IAAI,iBAAiB,GAE1C,MAAMM,EAASV,EAAaQ,EAAO,IAAI,EACnCL,EAAQ,UAAYO,EACxB,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtB,CAAS,EACDV,EAAK,MAAO,EACZE,EAAO,UAAU,IAAI,iBAAiB,EACtCO,EAAS,QAAO,CACnB,OAAQE,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CAEL"}